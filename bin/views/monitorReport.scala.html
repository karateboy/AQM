@* periodReport Template File *@
@(title: String)

@outline(title){
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">監測報表</h1>
		</div>
	</div>
	<div class="row">
    	<div class="col-lg-12">
    		<div class="panel-group" id="accordion">
        	<div class="panel panel-primary" id="paramPanel">
            	<div class="panel-heading panel-title" >
            		<a data-toggle="collapse" data-parent="#accordion" href="#reportParam">報表參數</a>	
                </div>
            	<div class="panel-body panel-collapse in" id="reportParam">
            		<h5>測站</h5>
            		<div class="btn-group" data-toggle="buttons">
            			@for(m<-Monitor.values.toList){
            				<label class="btn btn-default">
								<input type="radio" name="monitor" id="@m">@Monitor.getDisplayName(m)</label>		
            			}
            		</div>
					<h5>報表種類</h5>
					<div class="btn-group" data-toggle="buttons">
						<label class="btn btn-default">
							<input type="radio" name="reportType" id="@PeriodReport.DailyReport">日報</label>
						<label class="btn btn-default">
							<input type="radio" name="reportType" id="@PeriodReport.MonthlyReport">月報</label>
						<label class="btn btn-default">
							<input type="radio" name="reportType" id="@PeriodReport.YearlyReport">年報</label>
					</div>
					<h5>查詢日期</h5>
					<div class="col-lg-2 input-group date">
  						<input type="text" class="form-control" id="reportDate" required>
  							<span class="input-group-addon">
  								<i class="glyphicon glyphicon-th"></i>
  							</span>
					</div>
					</br>
					<div>
						<button type="button" class="btn btn-primary btn-block" id="queryReport">查詢</button>
					</div>
            	</div>
        	</div>
        	<div class="panel panel-success" style="display:none" id="reportPanel">
            	<div class="panel-heading panel-title"" >
            		<a data-toggle="collapse" data-parent="#accordion" href="#monitorReport">監測報表</a>	
                </div>
            	<div class="panel-body panel-collapse" id="monitorReport">
            		<table id="reportTable" class="display" cellspacing="0" width="100%">
            		</table>            		
            	</div>
            </div>
        	</div> <!-- end of panel group -->
    	</div>
    	<div >
    	
    	</div>
	</div>
	<script>
	$( document ).ready(function() {
		$('#reportDate').datepicker({
		    todayBtn: "linked",
		});

		function validate(){
			if (!$("input[name='monitor']:checked").val()) {
				alert('請選擇測站');
				return false;
			}
			
			if (!$("input[name='reportType']:checked").val()) {
				alert('請選擇報表種類');
				return false;
			}

			if($('#reportDate').val().length === 0){
				alert('請選擇報表日期');
				return false;
			}
			return true;
		}
		
		var dataSet = [
		               ['Trident','Internet Explorer 4.0','Win 95+','4','X'],
		               ['Gecko','Camino 1.5','OSX.3+','1.8','A'],
		               ['Other browsers','All others','-','-','U']
		           ];
        
		$('#queryReport').click(function(){
			if(!validate())
				return;

			$("#reportPanel").css('display','block');
			$("#reportParam").collapse();
			$("#reportPanel").collapse('show');

			$('#reportTable').dataTable( {
				language: {
					url: '@routes.Assets.at("localization/zh_tw.json")'
					/*
				    "sProcessing":   "處理中...",
				    "sLengthMenu":   "顯示 _MENU_ 項結果",
				    "sZeroRecords":  "沒有匹配結果",
				    "sInfo":         "顯示第 _START_ 至 _END_ 項結果，共 _TOTAL_ 項",
				    "sInfoEmpty":    "顯示第 0 至 0 項結果，共 0 項",
				    "sInfoFiltered": "(從 _MAX_ 項結果過濾)",
				    "sInfoPostFix":  "",
				    "sSearch":       "搜索:",
				    "sUrl":          "",
				    "oPaginate": {
				        "sFirst":    "首頁",
				        "sPrevious": "上頁",
				        "sNext":     "下頁",
				        "sLast":     "尾頁"
				    }*/
				},
		        "data": dataSet,
		        "columns": [
		            { "title": "Engine" },
		            { "title": "Browser" },
		            { "title": "Platform" },
		            { "title": "Version", "class": "center" },
		            { "title": "Grade", "class": "center" }
		        ]
		    } );  
			
		});
	});
	</script>
}

